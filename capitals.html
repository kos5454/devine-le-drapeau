<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jeu de la Capitale</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="capitals.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
</head>
<body>

<!-- ===================== SCREEN: WELCOME ===================== -->
<div id="screen-welcome" class="screen active">
  <div class="welcome-card">
    <div class="logo">ğŸ™ï¸</div>
    <h1>Jeu de la Capitale</h1>
    <p class="subtitle">Trouvez la capitale de chaque pays parmi 4 propositions.</p>
    <button class="btn-primary" id="btn-start">Commencer â†’</button>
    <a href="index.html" class="btn-home-link">â† Accueil</a>
  </div>
</div>

<!-- ===================== SCREEN: CONTINENT ===================== -->
<div id="screen-continent" class="screen">
  <div class="selection-wrapper">
    <div class="selection-header">
      <h2>Choisir une rÃ©gion</h2>
      <p class="subtitle">SÃ©lectionnez la zone gÃ©ographique Ã  explorer.</p>
    </div>
    <div class="continent-grid" id="continent-grid"></div>
    <button class="btn-secondary btn-back" id="btn-back-from-continent">â† Retour</button>
  </div>
</div>

<!-- ===================== SCREEN: MODE ===================== -->
<div id="screen-mode" class="screen">
  <div class="selection-wrapper">
    <div class="selection-header">
      <div class="context-pills">
        <span class="pill" id="mode-continent-pill"></span>
      </div>
      <h2>Mode de jeu</h2>
      <p class="subtitle">Choisissez comment vous voulez jouer.</p>
    </div>
    <div class="mode-grid" id="mode-grid"></div>
    <button class="btn-secondary btn-back" id="btn-back-from-mode">â† Retour</button>
  </div>
</div>

<!-- ===================== SCREEN: GAME ===================== -->
<div id="screen-game" class="screen">
  <div class="game-wrapper" id="game-wrapper">

    <!-- Top bar -->
    <div class="top-bar">
      <div class="top-left">
        <span class="mode-tag" id="game-mode-tag"></span>
        <span id="question-counter">1 / 10</span>
      </div>
      <div class="score-badge">
        <span class="score-label">Score</span>
        <span id="score-value">0</span>
      </div>
      <button class="btn-icon" id="btn-quit-game" title="Quitter">âœ•</button>
    </div>

    <!-- Progress bar -->
    <div class="progress-bar-track" id="progress-bar-wrap">
      <div class="progress-bar-fill" id="progress-bar"></div>
    </div>

    <!-- Streak bar (survival) -->
    <div class="streak-bar" id="streak-bar">
      <span class="streak-icon">ğŸ”¥</span>
      <span id="streak-count">0</span>
      <span class="streak-label">consÃ©cutives</span>
      <span class="streak-record-label">Record : <strong id="streak-record-val">0</strong></span>
    </div>

    <!-- Chrono bar -->
    <div class="chrono-wrap" id="chrono-wrap">
      <div class="chrono-bar-track">
        <div class="chrono-bar-fill" id="chrono-bar"></div>
      </div>
      <span id="chrono-time">60</span>
    </div>

    <!-- â”€â”€ QUESTION CARD (standard / hardcore) â”€â”€ -->
    <!-- Shows country name; user picks/types the capital -->
    <div id="zone-standard">
      <div class="cap-question-card" id="cap-question-card">
        <p class="cap-question-label" id="cap-question-label">Quelle est la capitale deâ€¦</p>
        <h3 class="cap-country-name" id="cap-country-name"></h3>
        <span class="cap-flag-hint" id="cap-flag-hint"></span>
      </div>
    </div>

    <!-- â”€â”€ REVERSE QUESTION (show capital â†’ pick country) â”€â”€ -->
    <div id="zone-reverse">
      <div class="cap-question-card">
        <p class="cap-question-label">Quel pays a pour capitaleâ€¦</p>
        <h3 class="cap-country-name" id="reverse-capital-name"></h3>
      </div>
    </div>

    <!-- â”€â”€ HARDCORE INPUT â”€â”€ -->
    <div id="zone-hardcore">
      <div class="hardcore-hint">
        <span class="hc-label">Tapez le nom de la capitale</span>
        <span class="hc-tol" id="hc-tol-badge"></span>
      </div>
      <div class="hardcore-input-wrap">
        <input type="text" id="hardcore-input" class="hardcore-input"
               placeholder="Capitaleâ€¦" autocomplete="off" spellcheck="false" />
        <button class="btn-submit" id="btn-hc-submit">OK</button>
      </div>
    </div>

    <!-- Feedback banner -->
    <div class="feedback-banner" id="feedback-banner">
      <span id="feedback-icon"></span>
      <span id="feedback-text"></span>
    </div>

    <!-- Answer buttons -->
    <div class="answers-grid" id="answers-grid">
      <button class="answer-btn" data-index="0"></button>
      <button class="answer-btn" data-index="1"></button>
      <button class="answer-btn" data-index="2"></button>
      <button class="answer-btn" data-index="3"></button>
    </div>

    <!-- Bottom controls -->
    <div class="bottom-controls">
      <button class="btn-primary" id="btn-next" disabled>Suivant â†’</button>
      <button class="btn-secondary btn-infini-home hidden" id="btn-infini-home">ğŸ  Retour Ã  l'accueil</button>
    </div>

  </div>
</div>

<!-- ===================== SCREEN: RESULTS ===================== -->
<div id="screen-results" class="screen">
  <div class="results-card">
    <div id="results-emoji" class="results-emoji">ğŸ†</div>
    <h2 id="results-title">Partie terminÃ©e !</h2>
    <p id="results-subtitle" class="subtitle"></p>

    <div class="score-circle" id="score-circle">
      <svg viewBox="0 0 120 120">
        <circle class="ring-bg"   cx="60" cy="60" r="52" />
        <circle class="ring-fill" cx="60" cy="60" r="52" id="ring-fill" />
      </svg>
      <div class="score-inside">
        <span id="final-score">0</span>
        <span class="score-denom" id="final-total">/10</span>
      </div>
    </div>

    <div class="survival-result" id="survival-result">
      <div class="streak-big">ğŸ”¥ <span id="survival-streak">0</span></div>
      <p class="streak-desc">rÃ©ponses consÃ©cutives</p>
      <div class="record-row">
        <span class="record-tag">Record personnel</span>
        <span id="survival-record-display">0</span>
      </div>
    </div>

    <div class="results-stats" id="results-stats">
      <div class="stat-item correct">
        <span class="stat-icon">âœ“</span>
        <span id="stat-correct">0 correctes</span>
      </div>
      <div class="stat-item incorrect">
        <span class="stat-icon">âœ—</span>
        <span id="stat-incorrect">0 incorrectes</span>
      </div>
    </div>

    <div class="chrono-result" id="chrono-result">
      <div class="chrono-stat">
        <span class="chrono-stat-icon">âš¡</span>
        <span id="chrono-stat-speed">â€” rÃ©p/min</span>
      </div>
      <div class="chrono-stat">
        <span class="chrono-stat-icon">ğŸ¯</span>
        <span id="chrono-stat-acc">â€” % prÃ©cision</span>
      </div>
    </div>

    <div class="new-record-badge" id="new-record-badge">ğŸ‰ Nouveau record !</div>

    <div class="results-buttons">
      <button class="btn-primary"   id="btn-play-again">Rejouer ce mode</button>
      <button class="btn-secondary" id="btn-change-mode">Changer de mode</button>
      <button class="btn-secondary" id="btn-home">â† Accueil</button>
    </div>
  </div>
</div>

<script src="capitals.js?v=1"></script>
</body>
</html>
