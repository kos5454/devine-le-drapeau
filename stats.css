/* ================================================================
   STATS PAGE — stats.css
================================================================ */

.stats-page {
  max-width: 760px;
  margin: 0 auto;
  padding: 24px 16px 60px;
  font-family: 'Inter', sans-serif;
  color: var(--text);
  min-height: 100vh;
}

/* ── Header ──────────────────────────────────────────────────── */
.stats-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}
.stats-header h1 {
  flex: 1;
  font-size: 1.45rem;
  font-weight: 800;
  margin: 0;
}
.btn-back-home {
  color: var(--accent);
  text-decoration: none;
  font-size: .88rem;
  font-weight: 600;
  white-space: nowrap;
  padding: 7px 12px;
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  transition: var(--t);
}
.btn-back-home:hover { border-color: var(--accent); }
.btn-danger-sm {
  background: none;
  border: 1px solid var(--err);
  color: var(--err);
  border-radius: 8px;
  padding: 7px 11px;
  cursor: pointer;
  font-size: .9rem;
  transition: var(--t);
}
.btn-danger-sm:hover { background: rgba(239,68,68,.12); }

/* ── Summary cards ───────────────────────────────────────────── */
.stats-summary {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 22px;
}
.summary-card {
  flex: 1;
  min-width: 110px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px 16px;
  text-align: center;
}
.summary-value {
  display: block;
  font-size: 1.55rem;
  font-weight: 800;
  color: var(--accent);
}
.summary-label {
  display: block;
  font-size: .75rem;
  color: var(--muted);
  margin-top: 3px;
}

/* ── Tabs ────────────────────────────────────────────────────── */
.tabs {
  display: flex;
  gap: 4px;
  border-bottom: 2px solid var(--border);
  margin-bottom: 20px;
}
.tab {
  background: none;
  border: none;
  padding: 10px 18px;
  font-family: 'Inter', sans-serif;
  font-size: .9rem;
  font-weight: 600;
  color: var(--muted);
  cursor: pointer;
  border-bottom: 2px solid transparent;
  margin-bottom: -2px;
  transition: color .2s;
}
.tab.active { color: var(--accent); border-bottom-color: var(--accent); }
.tab:hover:not(.active) { color: var(--text); }
.tab-panel { display: none; }
.tab-panel.active { display: block; }

/* ── History table ───────────────────────────────────────────── */
.history-table-wrap {
  overflow-x: auto;
  border-radius: 12px;
  border: 1px solid var(--border);
}
.history-table {
  width: 100%;
  border-collapse: collapse;
  font-size: .86rem;
}
.history-table th {
  background: var(--bg-card2);
  color: var(--muted);
  font-weight: 600;
  text-align: left;
  padding: 10px 14px;
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}
.history-table td {
  padding: 9px 14px;
  border-bottom: 1px solid var(--border);
}
.history-table tr:last-child td { border-bottom: none; }
.history-table tr:hover td { background: rgba(255,255,255,.03); }

.badge-game {
  display: inline-block;
  border-radius: 6px;
  padding: 2px 8px;
  font-size: .78rem;
  font-weight: 600;
}
.badge-game.flags    { background: rgba(99,102,241,.15); color: #818cf8; }
.badge-game.capitals { background: rgba(245,158,11,.15); color: #fbbf24; }

.score-pct { font-weight: 700; }
.score-pct.high { color: var(--ok); }
.score-pct.mid  { color: var(--warn); }
.score-pct.low  { color: var(--err); }

/* ── Progress chart ──────────────────────────────────────────── */
.chart-legend {
  display: flex;
  align-items: center;
  gap: 16px;
  font-size: .85rem;
  color: var(--muted);
  margin-bottom: 10px;
}
.legend-dot {
  display: inline-block;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  vertical-align: middle;
  margin-right: 4px;
}
.legend-dot.flags    { background: #818cf8; }
.legend-dot.capitals { background: #fbbf24; }
.chart-wrap {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  overflow: hidden;
}
.chart-wrap.hidden { display: none; }
.progress-chart { width: 100%; display: block; }
.chart-caption {
  text-align: center;
  font-size: .78rem;
  color: var(--muted);
  margin-top: 8px;
}

/* ── Weak countries ──────────────────────────────────────────── */
.weak-actions {
  display: flex;
  gap: 10px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}
.btn-revision {
  flex: 1;
  min-width: 150px;
  padding: 12px 18px;
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-family: 'Inter', sans-serif;
  font-size: .9rem;
  font-weight: 700;
  cursor: pointer;
  transition: opacity .2s;
}
.btn-revision:hover:not(:disabled) { opacity: .85; }
.btn-revision:disabled { opacity: .35; cursor: not-allowed; }

.weak-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 14px;
}
.weak-tab {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 6px 16px;
  font-family: 'Inter', sans-serif;
  font-size: .85rem;
  font-weight: 600;
  color: var(--muted);
  cursor: pointer;
  transition: var(--t);
}
.weak-tab.active { background: var(--accent); color: #fff; border-color: transparent; }

.weak-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 4px;
  border-bottom: 1px solid var(--border);
}
.weak-item:last-child { border-bottom: none; }
.weak-rank {
  font-size: .78rem;
  color: var(--muted);
  width: 20px;
  text-align: right;
  flex-shrink: 0;
}
.weak-flag { font-size: 1.35rem; flex-shrink: 0; line-height: 1; }
.weak-name { flex: 1; font-weight: 600; font-size: .88rem; min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.weak-bar-wrap {
  width: 80px;
  height: 6px;
  background: var(--border);
  border-radius: 3px;
  flex-shrink: 0;
}
.weak-bar-fill {
  height: 6px;
  border-radius: 3px;
  background: var(--err);
  transition: width .4s ease;
}
.weak-pct {
  font-size: .8rem;
  color: var(--err);
  font-weight: 700;
  width: 34px;
  text-align: right;
  flex-shrink: 0;
}
.weak-attempts {
  font-size: .75rem;
  color: var(--muted);
  white-space: nowrap;
  flex-shrink: 0;
}

/* ── Empty state ─────────────────────────────────────────────── */
.empty-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--muted);
}
.empty-state span { font-size: 2.5rem; display: block; margin-bottom: 10px; }
.empty-state p { font-size: .9rem; line-height: 1.5; }

/* ── Responsive ──────────────────────────────────────────────── */
@media (max-width: 500px) {
  .stats-header h1 { font-size: 1.15rem; }
  .summary-card { min-width: 80px; padding: 10px 8px; }
  .summary-value { font-size: 1.25rem; }
  .tab { padding: 9px 12px; font-size: .82rem; }
  .weak-bar-wrap { width: 50px; }
  .history-table th, .history-table td { padding: 8px 10px; }
}
